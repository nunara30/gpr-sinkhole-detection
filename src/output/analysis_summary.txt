================================================================================
  Week 3 - GPR 오픈소스 프로젝트 분석 요약
  생성일: 2026-02-26
================================================================================

────────────────────────────────────────────────────────────────────────────────
  [GPRPy] GUI 기반 GPR 전처리/시각화 도구
  URL: https://github.com/NSGeophysics/GPRPy
────────────────────────────────────────────────────────────────────────────────
  지원 포맷:
    • Sensors & Software (.DT1 + .HD)
    • GSSI (.DZT)
    • ENVI BSQ (.DAT + .GPRhdr)
    • MALA (.rad + .rd3/.rd7)
  처리 기능:
    [Filtering] dewow, smooth
    [Noise Removal] remMeanTrace, alignTraces
    [Gain] tpowGain, agcGain, normalize
    [Migration] fkMigration
    [Velocity Analysis] linStackedAmplitude, hypStackedAmplitude, setVelocity
    [Topography] correctTopo, topoCorrect, prepTopo
    [Data Manipulation] cut, flipProfile, adjProfile, setZeroTime, truncateY
    [Visualization] showProfile, printProfile, showCWFig
    [History] showHistory, writeHistory, undo
    [Export] exportVTK, save
  모듈 구성:
    gprpy.py: 44 functions, 1405 lines
    gprpyTools.py: 14 functions, 655 lines
  핵심 클래스:
    gprpyProfile: 27 public methods — Ground penetrating radar data processing and visualization class
    gprpyCW: 15 public methods — Ground penetrating radar data processing and visualization class

────────────────────────────────────────────────────────────────────────────────
  [gprMax] FDTD 기반 GPR 전자기파 시뮬레이션
  URL: https://github.com/gprMax/gprMax
────────────────────────────────────────────────────────────────────────────────
  지원 포맷:
    • HDF5 (.out) — FDTD 시뮬레이션 출력
  처리 기능:
    [FDTD Simulation] 2D/3D electromagnetic wave propagation
    [Material Modeling] isotropic, dispersive, soil mixing
    [Geometry Building] primitive shapes, fractal heterogeneity
    [Post-processing] A-scan/B-scan extraction, output merging
    [Visualization] field snapshots (VTK), geometry view
  모듈 구성:
    tools/convert_png2h5.py: 3 functions, 126 lines
    tools/inputfile_old2new.py: 0 functions, 422 lines
    tools/outputfiles_merge.py: 2 functions, 126 lines
    tools/plot_antenna_params.py: 2 functions, 424 lines
    tools/plot_Ascan.py: 1 functions, 225 lines
    tools/plot_Bscan.py: 1 functions, 101 lines
    tools/plot_source_wave.py: 2 functions, 173 lines
    gprMax/ (core): ? functions, 9479 lines
  .in 파일 명령어:
    [Domain] #domain, #dx_dy_dz, #time_window, #pml_cells
    [Material] #material, #soil_peplinski, #add_dispersion_debye, #add_dispersion_lorentz, #add_dispersion_drude
    [Geometry] #box, #cylinder, #cylindrical_sector, #sphere, #edge, #plate, #triangle, #fractal_box, #add_surface_roughness
    [Source] #hertzian_dipole, #magnetic_dipole, #voltage_source, #transmission_line
    [Waveform] #waveform (types: gaussian, gaussiandot, ricker, sine, contsine, impulse, user)
    [Receiver] #rx, #rx_array
    [Output] #snapshot, #geometry_view, #geometry_objects_write
    [Stepping] #src_steps, #rx_steps
    [Config] #title, #num_threads, #messages, #output_dir

────────────────────────────────────────────────────────────────────────────────
  [siina] GPR 데이터 I/O + 기본 필터링 라이브러리
  URL: https://github.com/ahartikainen/siina
────────────────────────────────────────────────────────────────────────────────
  지원 포맷:
    • GSSI DZT (.dzt) — 읽기 전용
  처리 기능:
    [I/O] DZT read (auto header parsing)
    [Filtering] Butterworth (low/high/band/bandstop)
    [Preprocessing] DC removal (func_dc)
    [Axis Generation] sample time, profile time, profile distance
  모듈 구성:
    core.py: 17 functions, 330 lines
    dzt.py: 5 functions, 428 lines
    filters.py: 1 functions, 43 lines
    rd3.py: 0 functions, 1 lines
  핵심 클래스:
    Radar: 13 public methods — Radar class to handle GPR measurement data.

================================================================================
  전처리 기능 비교 (Week 2 파이프라인 vs 오픈소스)
================================================================================

┌──────────────────────────────────┬────────┬──────────────────┬──────────┬─────────────────┐
│ Feature                          │ Week 2 │ GPRPy            │ gprMax   │ siina           │
├──────────────────────────────────┼────────┼──────────────────┼──────────┼─────────────────┤
│ DC Removal                       │ ✓      │ ✗ (dewow 대체)     │ ✗        │ ✓ func_dc       │
│ Dewow (low-frequency removal)    │ ✓      │ ✓ dewow()        │ ✗        │ ✗               │
│ Background Removal (mean trace)  │ ✓      │ ✓ remMeanTrace() │ ✗        │ ✗               │
│ Bandpass Filter (Butterworth)    │ ✓      │ ✓ smooth()       │ ✗        │ ✓ butterworth() │
│ Gain SEC (t-power + exponential) │ ✓      │ ✓ tpowGain()     │ ✗        │ ✗               │
│ Gain AGC (automatic)             │ ✓      │ ✓ agcGain()      │ ✗        │ ✗               │
│ FK Migration (Stolt)             │ ✓      │ ✓ fkMigration()  │ ✗ (FDTD) │ ✗               │
│ Amplitude Spectrum               │ ✓      │ ✗                │ ✗        │ ✗               │
└──────────────────────────────────┴────────┴──────────────────┴──────────┴─────────────────┘

================================================================================
  종합 분석
================================================================================

  1. GPRPy: 가장 완전한 전처리 도구
     - Week 2 파이프라인의 대부분 기능을 포함 (dewow, gain, migration)
     - 추가: 토포그래피 보정, 속도 분석(CMP/WARR), VTK 3D 출력
     - 한계: GUI 위주 설계, 모듈 단독 사용 불편, pip 설치 깨짐

  2. gprMax: 시뮬레이션 전문 (FDTD)
     - 전처리 기능 없음 → 시뮬레이션 도구
     - .in 텍스트 파일로 복잡한 지하 모델 정의 가능
     - 싱크홀 합성 B-scan 생성에 이상적 (Week 4 학습 데이터)
     - 한계: Windows Cython 빌드 필요 (MSVC Build Tools)

  3. siina: 경량 I/O 라이브러리
     - DZT 포맷 읽기 + Butterworth 필터만 지원
     - 최소 기능, 빠른 설치, 의존성 적음
     - 한계: DZT 전용, 전처리 기능 매우 제한적

  Week 2 파이프라인 위치:
     - GPRPy보다 체계적 파이프라인 (6단계 순차 실행 + DB 기록)
     - GPRPy에 없는 Background Removal, Amplitude Spectrum 포함
     - 4개 포맷 지원 (DT1, DZT 헤더, IDS .dt, gprMax HDF5 예정)
